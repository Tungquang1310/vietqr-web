<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Thanh toán</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f7f7f7; }
        .container { max-width: 400px; margin: 40px auto; background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 2px 8px #ccc; }
        h2 { text-align: center; }
        label { display: block; margin-top: 16px; }
        input, textarea { width: 100%; padding: 8px; margin-top: 4px; border-radius: 4px; border: 1px solid #ccc; }
        button { margin-top: 20px; width: 100%; padding: 10px; background: #2d8cf0; color: #fff; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; }
        button:hover { background: #1a6fb3; }
        .qr-img { margin-top: 24px; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Mã thanh toán by Tùng Quang</h2>
        <form id="vietqrForm">
            <label for="amount">Số tiền (VND):</label>
            <input type="number" id="amount" name="amount" required min="1000" step="1000">
            <label for="addInfo">Nội dung chuyển khoản:</label>
            <textarea id="addInfo" name="addInfo" rows="2" required placeholder="Nội dung chuyển khoản"></textarea>
            <button type="submit">Tạo mã QR</button>
        </form>
        <div class="qr-img" id="qrResult"></div>
    </div>
    <script>
        // Thông tin cố định
        const BANK_ID = "VCB";
        const ACCOUNT_NO = "1034002102";
        const ACCOUNT_NAME = "TONG QUANG TUNG";
        // Khi nhấp vào textarea, placeholder sẽ biến mất
        const addInfoEl = document.getElementById('addInfo');
        addInfoEl.addEventListener('focus', function() {
            this.placeholder = '';
        });
        addInfoEl.addEventListener('blur', function() {
            if (!this.value) this.placeholder = 'Nội dung chuyển khoản';
        });

        document.getElementById('vietqrForm').onsubmit = function(e) {
            e.preventDefault();
            const amount = document.getElementById('amount').value;
            const addInfo = encodeURIComponent(document.getElementById('addInfo').value);
            const url = `https://img.vietqr.io/image/${BANK_ID}-${ACCOUNT_NO}-compact2.png?amount=${amount}&addInfo=${addInfo}&accountName=${ACCOUNT_NAME}`;
            document.getElementById('qrResult').innerHTML = `<img src='${url}' alt='QR VietQR' style='max-width:100%'><p><a href='${url}' target='_blank'>Mở ảnh lớn</a></p>`;
        };
    </script>
</body>
</html>
